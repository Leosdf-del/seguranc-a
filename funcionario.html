<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus - Portal Corporativo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Previous styles remain the same */
        /* Add styles for login modal */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="min-h-screen bg-gradient-to-br from-gray-100 to-gray-200" id="app-container">
        <!-- Login Modal (Initially Hidden) -->
        <div id="login-modal" class="login-modal hidden">
            <div class="bg-white p-8 rounded-xl shadow-2xl w-96">
                <h2 class="text-2xl font-bold text-center mb-6 text-blue-600">Login</h2>
                <form id="login-form">
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Usuário</label>
                        <input 
                            type="text" 
                            id="username" 
                            class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-200 transition" 
                            placeholder="Digite seu usuário"
                            required
                        >
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-700 mb-2">Senha</label>
                        <input 
                            type="password" 
                            id="password" 
                            class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-200 transition" 
                            placeholder="Digite sua senha"
                            required
                        >
                    </div>
                    <button 
                        type="submit" 
                        class="w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-3 rounded-lg hover:opacity-90 transition font-semibold"
                    >
                        Entrar
                    </button>
                </form>
            </div>
        </div>

        <!-- Existing Header (will be updated dynamically) -->
        <header class="bg-white shadow-md" id="main-header">
            <div class="container mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <div class="bg-blue-500 text-white p-2 rounded-full">
                        <i class="fas fa-network-wired text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">Nexus</h1>
                        <p class="text-sm text-gray-500">Portal Corporativo</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <p class="font-semibold text-gray-800" id="user-name">João Silva</p>
                        <p class="text-sm text-gray-500" id="user-department">Departamento de TI</p>
                    </div>
                    <div class="w-12 h-12 bg-blue-100 rounded-full overflow-hidden border-2 border-blue-300">
                        <img src="/api/placeholder/150/150" alt="Perfil" class="w-full h-full object-cover" id="user-avatar">
                    </div>
                    <button 
                        id="logout-btn" 
                        class="ml-4 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition"
                    >
                        <i class="fas fa-sign-out-alt mr-2"></i>Sair
                    </button>
                </div>
            </div>
        </header>

        <!-- Rest of the existing content remains the same -->
        <!-- Main content, sections, footer, etc. -->
    </div>

    <script>
        // User database (simulated)
        const users = {
            'joao.silva': {
                name: 'João Silva',
                department: 'Departamento de TI',
                avatar: '/api/placeholder/150/150'
            },
            'maria.santos': {
                name: 'Maria Santos',
                department: 'Departamento de RH',
                avatar: '/api/placeholder/150/150'
            }
        };

        // DOM Elements
        const loginModal = document.getElementById('login-modal');
        const loginForm = document.getElementById('login-form');
        const mainHeader = document.getElementById('main-header');
        const logoutBtn = document.getElementById('logout-btn');
        const userName = document.getElementById('user-name');
        const userDepartment = document.getElementById('user-department');
        const userAvatar = document.getElementById('user-avatar');

        // Check initial login state
        function checkLoginState() {
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser) {
                const userData = users[currentUser];
                updateUserInfo(userData);
                loginModal.classList.add('hidden');
                mainHeader.classList.remove('hidden');
            } else {
                loginModal.classList.remove('hidden');
                mainHeader.classList.add('hidden');
            }
        }

        // Update user information
        function updateUserInfo(userData) {
            userName.textContent = userData.name;
            userDepartment.textContent = userData.department;
            userAvatar.src = userData.avatar;
        }

        // Login form submission
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Simple authentication (in real-world, this would be a server-side process)
            if (users[username]) {
                localStorage.setItem('currentUser', username);
                checkLoginState();
            } else {
                alert('Usuário ou senha inválidos');
            }
        });

        // Logout functionality
        logoutBtn.addEventListener('click', function() {
            localStorage.removeItem('currentUser');
            checkLoginState();
        });

        // Initial login state check
        checkLoginState();

        // Existing chat script remains the same
        document.getElementById('enviar-mensagem').addEventListener('click', enviarMensagem);
        document.getElementById('mensagem-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                enviarMensagem();
            }
        });

        function enviarMensagem() {
            const input = document.getElementById('mensagem-input');
            const chatContainer = document.getElementById('chat-container');
            
            if (input.value.trim() === '') return;

            const mensagemUsuario = document.createElement('div');
            mensagemUsuario.innerHTML = `
                <div class="bg-blue-100 p-3 rounded-lg mb-2 max-w-xs ml-auto">
                    <p class="text-sm font-medium text-blue-800">${input.value}</p>
                    <span class="text-xs text-blue-600 block text-right mt-1">Agora</span>
                </div>
            `;
            chatContainer.appendChild(mensagemUsuario);

            setTimeout(() => {
                const respostaAutomatica = document.createElement('div');
                respostaAutomatica.innerHTML = `
                    <div class="bg-gray-200 p-3 rounded-lg mb-2 max-w-xs">
                        <p class="text-sm font-medium text-gray-800">Recebemos sua mensagem. Em breve retornaremos.</p>
                        <span class="text-xs text-gray-600 block text-right mt-1">Suporte</span>
                    </div>
                `;
                chatContainer.appendChild(respostaAutomatica);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);

            input.value = '';
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
    </script>
</body>
</html>
